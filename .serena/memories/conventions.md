Conventions: Server components by default; add 'use client' only when interactive. Use Zod schemas for API input validation; wrap API logic with withErrorHandling and optionally rateLimitMiddleware for write/compute heavy endpoints (BLOG_GENERATE stricter). Logging via log.{trace,debug,info,warn,error,fatal}; never console.\*. Environment variables accessed at runtime (Sanity IDs/tokens, GEMINI_API_KEY, Upstash creds, NEXLOG_LEVEL, NEXLOG_STRUCTURED). TailwindCSS tokens defined in globals.css under @theme; reuse constants from src/constants. Avoid heavy markdown transformers (prefer simplified pipeline). Use TypeScript strict - no untyped any. Import sorting handled by Prettier plugin.
