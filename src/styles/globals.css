@import 'tailwindcss';

@theme {
  --color-backgroundPrimary: #0e0e0e;
  --color-backgroundSecondary: #1a1a1a;
  --color-primary: #ad5aff;
  --color-secondary: #ffb2de;
  --color-textPrimary: #f2f2f2;
  --color-textSecondary: #919191;
  --color-textTertiary: #bbbbbbff;
}

@utility highlight {
  color: var(--color-textPrimary);
  font-weight: 500;
  transition-property: color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 300ms;

  &:hover {
    color: var(--color-primary);
  }
}

@utility section-title {
  color: var(--color-primary);
  font-weight: 500;
  font-size: 1.25rem;
  line-height: 1.75rem;
  margin-bottom: 0.75rem;
}

@utility btn-primary {
  position: relative;
  color: var(--color-textPrimary);

  &::before {
    content: '';
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 2px;
    background-color: var(--color-primary);
    transform: translateY(0.25rem);
    opacity: 0;
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  &:hover::before {
    opacity: 1;
  }
}

@utility link-primary {
  position: relative;
  color: var(--color-textPrimary);

  &::before {
    content: '';
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 2px;
    background-color: var(--color-primary);
    transform: translateY(0.25rem);
    opacity: 0;
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }

  &:hover::before {
    opacity: 1;
  }

  &::after {
    content: 'â†’';
    position: absolute;
    margin-left: 0.5rem;
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }

  &:hover::after {
    transform: translateX(0.5rem);
  }
}

/* Modal animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modalSlideOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
}

@utility animate-fadeIn {
  animation: fadeIn 200ms ease-out;
}

@utility animate-fadeOut {
  animation: fadeOut 200ms ease-in;
}

@utility animate-modalSlideIn {
  animation: modalSlideIn 250ms cubic-bezier(0.16, 1, 0.3, 1);
}

@utility animate-modalSlideOut {
  animation: modalSlideOut 200ms cubic-bezier(0.7, 0, 0.84, 0);
}

/* Custom prose styles for blog content */
.prose {
  /* Headings */
  h1 {
    font-size: clamp(1.875rem, 4vw, 2.25rem);
    font-weight: 700;
    margin-bottom: 1rem;
    margin-top: 2rem;
    color: var(--color-textPrimary);
  }

  h2 {
    font-size: clamp(1.5rem, 3vw, 1.875rem);
    font-weight: 700;
    margin-bottom: 1rem;
    margin-top: 2rem;
    color: var(--color-textPrimary);
  }

  h3 {
    font-size: clamp(1.25rem, 2.5vw, 1.5rem);
    font-weight: 700;
    margin-bottom: 0.75rem;
    margin-top: 1.5rem;
    color: var(--color-textPrimary);
  }

  h4 {
    font-size: clamp(1.125rem, 2vw, 1.25rem);
    font-weight: 700;
    margin-bottom: 0.75rem;
    margin-top: 1.5rem;
    color: var(--color-textPrimary);
  }

  /* Paragraphs */
  p {
    margin-bottom: 1rem;
    color: var(--color-textSecondary);
    line-height: 1.75;
  }

  /* Links */
  a {
    color: var(--color-textPrimary);
    text-decoration: underline;
    transition: all 200ms ease;

    &:hover {
      color: var(--color-primary);
    }
  }

  /* ------------------ INLINE CODE ------------------ */
  p code,
  li code,
  blockquote code {
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    background-color: rgba(173, 90, 255, 0.12);
    color: var(--color-textSecondary);
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
      monospace;
    font-size: 0.875rem;
  }

  /* Apply padding / background / color to inline code generated by rehype-pretty-code */
  span[data-rehype-pretty-code-figure] > code,
  span[data-rehype-pretty-code-figure] > code[data-rehype-pretty-code-figure] {
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    background-color: rgba(173, 90, 255, 0.12);
    color: var(--color-textTertiary);
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
      monospace;
    font-size: 0.875rem;
  }

  /* ------------------ BLOCK CODE ------------------ */
  pre {
    padding: 1rem; /* outer padding */
    border-radius: 0.5rem; /* rounded corners */
    background-color: #1e1e1e; /* fallback background if theme doesn't set it */
    overflow-x: auto; /* horizontal scroll if needed */
    margin: 1.5rem 0; /* spacing around code blocks */
  }

  pre code {
    padding: 0; /* handled by pre */
    background-color: transparent;
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
      monospace;
    font-size: 0.875rem;
    display: block;
    white-space: pre; /* preserve spacing and line breaks */
  }

  /* Spans inside <code> generated by rehype-pretty-code */
  pre code span {
    font-family: inherit; /* inherit monospace from code */
  }

  /* ------------------ BLOCKQUOTE ------------------ */
  blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: 1rem;
    font-style: italic;
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    color: var(--color-textSecondary);
  }

  /* Lists */
  ul {
    list-style-type: disc;
    list-style-position: outside;
    margin-bottom: 1rem;
    padding-left: 1.5rem;

    li {
      margin-bottom: 0.5rem;
      color: var(--color-textSecondary);
    }
  }

  ol {
    list-style-type: decimal;
    list-style-position: outside;
    margin-bottom: 1rem;
    padding-left: 1.5rem;

    li {
      margin-bottom: 0.5rem;
      color: var(--color-textSecondary);
    }
  }

  /* Strong and emphasis */
  strong {
    font-weight: 600;
    color: var(--color-textPrimary);
  }

  em {
    font-style: italic;
  }

  /* Tables */
  table {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
    width: 100%;
    border-collapse: collapse;
  }

  thead {
    background-color: var(--color-backgroundSecondary);
  }

  tr {
    border-bottom: 1px solid rgba(145, 145, 145, 0.2);
  }

  th {
    padding: 0.5rem 1rem;
    text-align: left;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-textPrimary);
  }

  td {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    color: var(--color-textSecondary);
  }

  /* Wrapper for horizontal scrolling */
  &:has(table) {
    overflow-x: auto;
  }
}
